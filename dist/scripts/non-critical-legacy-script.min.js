"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}var memo,dynamicFrame,i,time=5,timeInterval=1e3*time/100,carouselTrack=document.querySelector(".carousel__track"),slides=document.getElementsByClassName("carousel__slide"),prevButton=document.querySelector(".carousel__prev-button"),nextButton=document.querySelector(".carousel__next-button"),playButton=document.querySelector(".carousel__play-button"),pauseButton=document.querySelector(".carousel__pause-button"),transitionButtons=document.querySelectorAll(".carousel__transition-button"),progressList=document.querySelector(".carousel__progress-list"),progressContainers=document.getElementsByClassName("carousel__progress-container"),progressBars=document.getElementsByClassName("carousel__progress-bar"),bar1=document.getElementById("bar1"),bar2=document.getElementById("bar2"),bar3=document.getElementById("bar3"),video=document.querySelector(".carousel__video"),currentProgressContainer=document.querySelector(".carousel__progress-container.current-container"),currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width=0,isPlay=!0;setAttributes();var slideNumber=1,currentSlideNumber=1,isTransitioning=!1;showSlides(slideNumber),progressStart(),prevButton.addEventListener("click",(function(){plusSlides(-1)})),nextButton.addEventListener("click",(function(){plusSlides(1)})),pauseButton.addEventListener("click",(function(){progressPause(),togglePlayPauseButtons()})),playButton.addEventListener("click",(function(){progressResume(),togglePlayPauseButtons()})),progressList.addEventListener("keydown",(function(e){switch(e.key){case"ArrowLeft":plusSlides(-1),focusProgress();break;case"ArrowRight":plusSlides(1),focusProgress();break;case"Home":e.preventDefault(),currentSlide(1),focusProgress();break;case"End":e.preventDefault(),currentSlide(3),focusProgress()}}));for(var _loop=function(e){progressContainers[e].addEventListener("click",(function(){currentSlide(1+e)}))},_i=0;_i<progressContainers.length;_i++)_loop(_i);function showSlides(e){e>slides.length&&(slideNumber=1),e<1&&(slideNumber=slides.length);for(var r=0;r<slides.length;r++)slides[r].classList.remove("current-slide","previous-slide","next-slide"),slides[r].style.zIndex="0",progressContainers[r].classList.remove("current-container"),progressBars[r].classList.remove("current-bar"),progressBars[r].setAttribute("aria-selected","false"),progressBars[r].setAttribute("tabindex","-1");slides[currentSlideNumber-1].style.zIndex="7",slides[slideNumber-1].style.zIndex="7";var s=slideNumber-1;if(0!==s&&s!==slides.length-1)for(var t=0;t<slides.length;t++)t<s?slides[t].classList.add("previous-slide"):t===s?slides[t].classList.add("current-slide"):slides[t].classList.add("next-slide");else if(0===s)for(var a=0;a<slides.length;a++)a===s?slides[a].classList.add("current-slide"):a===slides.length-1?slides[a].classList.add("previous-slide"):slides[a].classList.add("next-slide");else if(s===slides.length-1)for(var i=0;i<slides.length;i++)0===i?slides[i].classList.add("next-slide"):i===s?slides[i].classList.add("current-slide"):slides[i].classList.add("previous-slide");2===s?video.play():(video.pause(),video.currentTime=0),progressContainers[slideNumber-1].classList.add("current-container"),progressBars[slideNumber-1].classList.add("current-bar"),progressBars[slideNumber-1].setAttribute("aria-selected","true"),progressBars[slideNumber-1].removeAttribute("tabindex","-1"),currentSlideNumber=slideNumber}function progressStart(){frame(),dynamicFrame=setInterval(frame,timeInterval)}function frame(){currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width<100?(width++,currentProgressBar.style.width=width+"%",memo=width):(clearInterval(dynamicFrame),currentProgressBar.blur(),currentProgressBar.style.width="0.75rem",showSlides(++slideNumber),checkDotColor(slideNumber),resetProgressBar(),progressStart(),carouselTrack.setAttribute("aria-live","off"))}function checkDotColor(e){_toConsumableArray(progressBars).forEach((function(e){return e.classList.remove("finished-bar")})),2===e?bar1.classList.add("finished-bar"):3===e?(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar")):4===e?(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar"),bar3.classList.add("finished-bar")):5===e&&(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar"),bar3.classList.add("finished-bar"),bar4.classList.add("finished-bar"))}function resetProgressBar(){currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width=0,currentProgressBar.style.width=width+"%",memo=width}function progressPause(){carouselTrack.setAttribute("aria-live","polite"),isPlay=!1,clearInterval(dynamicFrame)}function progressResume(){carouselTrack.setAttribute("aria-live","off"),isPlay=!0,currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),(width=memo)<100?(currentProgressBar.style.width=width+"%",progressStart()):(currentProgressBar.style.width="0.75rem",showSlides(++slideNumber),resetProgressBar(),progressStart())}function preUpdateByUser(){clearInterval(dynamicFrame),carouselTrack.setAttribute("aria-live","polite"),(currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar")).style.width="0.75rem"}function plusSlides(e){preUpdateByUser(),showSlides(slideNumber+=e),postUpdateByUser(),slideTransition()}function currentSlide(e){preUpdateByUser(),slideNumber=e,showSlides(e),postUpdateByUser(),slideTransition()}function postUpdateByUser(){checkDotColor(slideNumber),resetProgressBar(),isPlay&&progressStart()}function togglePlayPauseButtons(){playButton.classList.toggle("hidden"),pauseButton.classList.toggle("hidden"),playButton.setAttribute("aria-hidden",playButton.classList.contains("hidden")),pauseButton.setAttribute("aria-hidden",pauseButton.classList.contains("hidden"))}function focusProgress(){(currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar")).focus()}function slideTransition(){isTransitioning||(isTransitioning=!0,transitionButtons.forEach((function(e){return e.classList.add("disabled")})),setTimeout((function(){isTransitioning=!1,transitionButtons.forEach((function(e){return e.classList.remove("disabled")}))}),1e3))}function setAttributes(){for(i=0;i<slides.length;i++)slides[i].setAttribute("id","carousel-slide".concat(i+1)),slides[i].setAttribute("aria-label","Slide ".concat(i+1," of ").concat(slides.length)),progressBars[i].setAttribute("aria-label","Slide ".concat(i+1)),progressBars[i].setAttribute("aria-controls","carousel-slide".concat(i+1))}
//# sourceMappingURL=non-critical-legacy-script.min.js.map
