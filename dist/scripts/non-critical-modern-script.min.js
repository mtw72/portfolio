"use strict";const time=5,timeInterval=50,carouselTrack=document.getElementById("carousel__track"),slides=document.getElementsByClassName("carousel__slide"),prevButton=document.querySelector(".carousel__prev-button"),nextButton=document.querySelector(".carousel__next-button"),playButton=document.querySelector(".carousel__play-button"),pauseButton=document.querySelector(".carousel__pause-button"),transitionButtons=document.querySelectorAll(".carousel__transition-button"),progressList=document.querySelector(".carousel__progress-list"),progressContainers=document.getElementsByClassName("carousel__progress-container"),progressBars=document.getElementsByClassName("carousel__progress-bar"),bar1=document.getElementById("bar1"),bar2=document.getElementById("bar2"),bar3=document.getElementById("bar3"),video=document.querySelector(".carousel__video");let memo,dynamicFrame,i,currentProgressContainer=document.querySelector(".carousel__progress-container.current-container"),currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width=0,isPlay=!0;setAttributes();let slideNumber=1,currentSlideNumber=1,isTransitioning=!1;showSlides(slideNumber),progressStart(),prevButton.addEventListener("click",(()=>{plusSlides(-1)})),nextButton.addEventListener("click",(()=>{plusSlides(1)})),pauseButton.addEventListener("click",(()=>{progressPause(),togglePlayPauseButtons()})),playButton.addEventListener("click",(()=>{progressResume(),togglePlayPauseButtons()})),progressList.addEventListener("keydown",(e=>{switch(e.key){case"ArrowLeft":plusSlides(-1),focusProgress();break;case"ArrowRight":plusSlides(1),focusProgress();break;case"Home":e.preventDefault(),currentSlide(1),focusProgress();break;case"End":e.preventDefault(),currentSlide(3),focusProgress()}}));for(let e=0;e<progressContainers.length;e++)progressContainers[e].addEventListener("click",(()=>{currentSlide(1+e)}));function showSlides(e){e>slides.length&&(slideNumber=1),e<1&&(slideNumber=slides.length);for(let e=0;e<slides.length;e++)slides[e].classList.remove("current-slide","previous-slide","next-slide"),slides[e].style.zIndex="0",progressContainers[e].classList.remove("current-container"),progressBars[e].classList.remove("current-bar"),progressBars[e].setAttribute("aria-selected","false"),progressBars[e].setAttribute("tabindex","-1");slides[currentSlideNumber-1].style.zIndex="7",slides[slideNumber-1].style.zIndex="7";let s=slideNumber-1;if(0!==s&&s!==slides.length-1)for(let e=0;e<slides.length;e++)e<s?slides[e].classList.add("previous-slide"):e===s?slides[e].classList.add("current-slide"):slides[e].classList.add("next-slide");else if(0===s)for(let e=0;e<slides.length;e++)e===s?slides[e].classList.add("current-slide"):e===slides.length-1?slides[e].classList.add("previous-slide"):slides[e].classList.add("next-slide");else if(s===slides.length-1)for(let e=0;e<slides.length;e++)0===e?slides[e].classList.add("next-slide"):e===s?slides[e].classList.add("current-slide"):slides[e].classList.add("previous-slide");2===s?video.play():(video.pause(),video.currentTime=0),progressContainers[slideNumber-1].classList.add("current-container"),progressBars[slideNumber-1].classList.add("current-bar"),progressBars[slideNumber-1].setAttribute("aria-selected","true"),progressBars[slideNumber-1].removeAttribute("tabindex","-1"),currentSlideNumber=slideNumber}function progressStart(){frame(),dynamicFrame=setInterval(frame,timeInterval)}function frame(){currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width<100?(width++,currentProgressBar.style.width=width+"%",memo=width):(clearInterval(dynamicFrame),currentProgressBar.blur(),currentProgressBar.style.width="0.75rem",slideNumber++,showSlides(slideNumber),checkDotColor(slideNumber),resetProgressBar(),progressStart(),carouselTrack.setAttribute("aria-live","off"))}function checkDotColor(e){[...progressBars].forEach((e=>e.classList.remove("finished-bar"))),2===e?bar1.classList.add("finished-bar"):3===e?(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar")):4===e?(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar"),bar3.classList.add("finished-bar")):5===e&&(bar1.classList.add("finished-bar"),bar2.classList.add("finished-bar"),bar3.classList.add("finished-bar"),bar4.classList.add("finished-bar"))}function resetProgressBar(){currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width=0,currentProgressBar.style.width=width+"%",memo=width}function progressPause(){carouselTrack.setAttribute("aria-live","polite"),isPlay=!1,clearInterval(dynamicFrame)}function progressResume(){carouselTrack.setAttribute("aria-live","off"),isPlay=!0,currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),width=memo,width<100?(currentProgressBar.style.width=width+"%",progressStart()):(currentProgressBar.style.width="0.75rem",slideNumber++,showSlides(slideNumber),resetProgressBar(),progressStart())}function preUpdateByUser(){clearInterval(dynamicFrame),carouselTrack.setAttribute("aria-live","polite"),currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),currentProgressBar.style.width="0.75rem"}function plusSlides(e){preUpdateByUser(),slideNumber+=e,showSlides(slideNumber),postUpdateByUser(),slideTransition()}function currentSlide(e){preUpdateByUser(),slideNumber=e,showSlides(e),postUpdateByUser(),slideTransition()}function postUpdateByUser(){checkDotColor(slideNumber),resetProgressBar(),isPlay&&progressStart()}function togglePlayPauseButtons(){playButton.classList.toggle("hidden"),pauseButton.classList.toggle("hidden"),playButton.setAttribute("aria-hidden",playButton.classList.contains("hidden")),pauseButton.setAttribute("aria-hidden",pauseButton.classList.contains("hidden"))}function focusProgress(){currentProgressBar=document.querySelector(".carousel__progress-bar.current-bar"),currentProgressBar.focus()}function slideTransition(){isTransitioning||(isTransitioning=!0,transitionButtons.forEach((e=>e.classList.add("disabled"))),setTimeout((()=>{isTransitioning=!1,transitionButtons.forEach((e=>e.classList.remove("disabled")))}),1e3))}function setAttributes(){for(i=0;i<slides.length;i++)slides[i].setAttribute("id",`carousel-slide${i+1}`),slides[i].setAttribute("aria-label",`Slide ${i+1} of ${slides.length}`),progressBars[i].setAttribute("aria-label",`Slide ${i+1}`),progressBars[i].setAttribute("aria-controls",`carousel-slide${i+1}`)}
//# sourceMappingURL=non-critical-modern-script.min.js.map
